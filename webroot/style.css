* { border-radius: 0 !important; }

html { scroll-behavior: smooth; }
section[id] { scroll-margin-top: 70px; }

.reveal { will-change: transform, opacity; }

@media (prefers-reduced-motion: reduce) {
	.reveal { transition: none !important; opacity: 1 !important; transform: none !important; }
}

:focus-visible { outline: 2px solid #9CA3AF; outline-offset: 2px; }

.text-glow { text-shadow: 0 0 8px rgba(156,163,175,0.25); }

.stack { position: relative; width: 100%; max-width: 900px; }
.stack::before { content: ""; display: block; padding-top: var(--pad, 56%); }
.stack-item {
	position: absolute; inset: 0;
	background-size: contain; background-position: center; background-repeat: no-repeat;
	transition: transform 500ms cubic-bezier(0.22,1,0.36,1), opacity 500ms ease;
}
.stack-item:nth-child(1) { transform: rotate(-2deg) translate(0, 0); }
.stack-item:nth-child(2) { transform: rotate(1.5deg) translate(6px, -6px); }
.stack-item:nth-child(3) { transform: rotate(-1deg) translate(-10px, 8px); }
.stack-item:nth-child(4) { transform: rotate(2.2deg) translate(12px, 4px); }
.stack-item:nth-child(n+5) { opacity: 0.9; }
.stack-item.dragging { cursor: grabbing; }
.stack-item.leaving { transform: translateX(var(--leave-x, 120%)) rotate(var(--leave-rot, 8deg)); opacity: 0; }
.stack-item.entering { transform: translateX(0) rotate(0deg); opacity: 1; }

@media (prefers-reduced-motion: reduce) {
	.stack-item { transition: none !important; }
}

.terminal { border: 1px solid rgba(255,255,255,0.1); background: #0b0b0b; }
.terminal-bar { display:flex; align-items:center; gap:8px; padding:6px 10px; border-bottom:1px solid rgba(255,255,255,0.06); background:#111; }
.terminal-bar .dot { width:10px; height:10px; border-radius:50%; display:inline-block; }
.terminal-bar .dot.red { background:#ff5f56; }
.terminal-bar .dot.yellow { background:#ffbd2e; }
.terminal-bar .dot.green { background:#27c93f; }
.terminal-bar .title { margin-left:4px; color:#a1a1aa; font-size:12px; }
.terminal-body { margin:0; padding:14px; color:#e5e7eb; font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; font-size:12px; line-height:1.6; overflow:auto; background:#0b0b0b; }

code .key { color:#93c5fd; }       /* light blue */
code .string { color:#86efac; }    /* green */
code .number { color:#fca5a5; }    /* red */
code .boolean { color:#fbbf24; }   /* amber */
code .null { color:#a78bfa; }      /* violet */

.terminal { box-shadow: inset 0 0 0 1px rgba(255,255,255,0.03); transform: none; }
#health-card { box-shadow: none; }
.terminal-bar .dot { border-radius: 50% !important; }
.terminal-body { padding: 18px; font-size: 13px; line-height: 1.7; }

@media (max-width: 640px) {
	.oneko-box { display: none; }
	.terminal-body { font-size: 11px; line-height: 1.5; padding: 10px; overflow-x: hidden; }
	.terminal-body code { white-space: pre-wrap; word-break: break-word; overflow-wrap: anywhere; }
}

.chip-group { display: flex; flex-wrap: wrap; gap: 8px; }
.chip { position: relative; border: none; background: transparent; appearance: none; -webkit-appearance: none; padding: 6px 10px 10px; color: #e5e7eb; cursor: pointer; user-select: none; transition: color 200ms ease; }
.chip::after { content: ""; position: absolute; left: 0; right: 100%; bottom: 4px; height: 2px; background: #9CA3AF; transition: right 300ms ease; }
.chip:hover { color: #9CA3AF; }
.chip:hover::after { right: 0; }
.chip.active { color: #9CA3AF; }
.chip.active::after { right: 0; }

.gallery-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; }
@media (min-width: 640px) { .gallery-grid { grid-template-columns: repeat(3, 1fr); } }
.gallery-item { width: 100%; height: auto; object-fit: cover; display: block; background: transparent; }

.stack { filter: none; }

@keyframes slideOutUp {
	0% { transform: translateY(0); opacity: 1; }
	100% { transform: translateY(-100%); opacity: 0; }
}
@keyframes slideInUp {
	0% { transform: translateY(100%); opacity: 0; }
	100% { transform: translateY(0); opacity: 1; }
}
.role-enter { animation: slideInUp 600ms cubic-bezier(0.22, 1, 0.36, 1) both; }
.role-leave { animation: slideOutUp 600ms cubic-bezier(0.22, 1, 0.36, 1) both; }

@media (prefers-reduced-motion: reduce) {
	.role-enter, .role-leave { animation: none !important; }
}

@media (max-width: 400px) {
	#hero h1 { font-size: 1.9rem; }
	#role-rotator { font-size: 1.4rem; }
	.chip { padding: 6px 8px 8px; }
	.gallery-grid { grid-template-columns: 1fr; gap: 10px; }
	.oneko-box { width: 60px; height: 60px; left: 8px; bottom: 8px; padding: 3px; }
}

/* Bottom-left oneko box */
.oneko-box { position: fixed; left: 12px; bottom: 12px; width: 72px; height: 72px; border: 1px solid rgba(255,255,255,0.12); background: #0b0b0b; z-index: 40; padding: 4px; display: flex; align-items: flex-end; justify-content: center; }
.oneko-box img { width: 100%; height: 100%; object-fit: contain; object-position: center bottom; image-rendering: pixelated; }
